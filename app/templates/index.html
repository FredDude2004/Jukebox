{% extends "base.html" %}

{% block body %}
<div class="container d-flex justify-content-center align-items-center" style="min-height: 80vh;">
	<div class="card shadow-lg p-4 w-100" style="max-width: 400px;">
		<h2 class="text-center mb-4">Welcome</h2>

		{% if error %}
			<div class="alert alert-danger" role="alert">
				{{ error }}
			</div>
		{% endif %}

		<form id="auth-form" method="post">
			<div class="mb-3">
				<input 
					type="text" 
					name="username" 
					class="form-control" 
					placeholder="Username" 
					required
				>
			</div>
			<div class="d-grid gap-2">
				<button 
					type="button" 
					class="btn btn-primary" 
					onclick="setActionForm('login')"
				>
					Login
				</button>
				<button 
					type="button" 
					class="btn btn-secondary" 
					onclick="setActionForm('register')"
				>
					Register
				</button>
			</div>
		</form>
	</div>
</div>

<script>
	function setActionForm(action) {
		const form = document.getElementById("auth-form");
		if (action === "login") {
			form.action = "{{ url_for('main.login') }}";
		} else if (action === "register") {
			form.action = "{{ url_for('main.register') }}";
		}
		form.submit();
	}
</script>
{% endblock %}
